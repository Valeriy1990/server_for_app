Generic climatic application
Согласно действующей процедуре регистрация климатических параметров осуществляется в письменном виде (журнале) два раза в сутки до 13:00 и после 13:00. 
Данный подход имеет свои недостатки:
-	Большой объём регистрирующей документации требующей ежедневного заполнения.
-	Сложность оперативного реагирования и внесения корректировок при возникновении негативных тенденций.
-	Сложность в формировании отчетности и анализе климатических параметров.

Для устранения выявленных недостатков было разработано приложение, предназначенное для сбора информации и регистрации показателей в удобной электронной форме.
Предполагаемые преимущества:
-	Экономия времени трудовых ресурсов.
-	Перевод данных в электронный формат (data.xlsx), что сразу позволит извлекать из данных необходимую информацию.
-	Уменьшение риска ввода ошибочных данных (приложение предупреждает пользователя в случае выхода за уровни действия или тревоги).
-	Экономия бумаги.
 
1.	Введение:
Приложение состоит из двух частей: серверная часть и клиентская часть.
Серверная часть, представляет собой приложение в формате .exe. Данная программа должна находиться на компьютере ответственного за контроль климатических показателей (далее – контролирующее лицо). 

 
 
Клиентская часть устанавливается персоналу (далее – пользователь) осуществляющему регистрацию климатических параметров на смартфон (операционная система Android), либо на любое другое устройство с операционной системой Windows и доступом к сети интернет (например, планшет отдела ОХС). Доступ к клиентской части контролируется серверной частью.

  
2.	Серверная часть:
-	Хранит базу данных всех пользователей допущенных к клиентской части. Если пользователя нет в  базе сервера, то он не сможет пользоваться клиентской частью (файл inter.env).
-	Формирует базу данных климатических показателей в формате data.csv и формате data.xlsx в режиме реального времени.  
-	При необходимости формирует отчёт по мониторингу в установленной форме ( Шаблон.doc) за период, контролирующему лицу останется его только распечатать и подписать (если необходимо).
 
Шаблон.doc

3.	Клиентская часть:
-	Аутентификация пользователя.
-	Формирование пакета данных в виде POST-запроса с указанием температуры, влажности, времени регистрации данных, номера помещения и логина пользователя.
-	Отправка пакета данных на сервер. В случае проблем с интернетом программа будет осуществлять повторную попытку отправить данные до положительного результата (временя регистрации данных в пакете остаются неизменными), либо до момента выхода из приложения.
-	Информирует пользователя если вносимые данные выходят за допустимые пределы.
-	Информирует пользователя о помещениях, с которых были сняты показания, и о тех, с которых показания требуется снять.

   
 
4.	Взаимодействие приложений
Перед началом рабочей смены контролирующее лицо активирует серверную часть на своём компьютере.
Сервер:
Перед активацией контролирующее лицо устанавливает в файле inter.env IPv4-адрес своего компьютера («Настройки»-> «Сеть и Интернет»-> «Ethernet») и там же устанавливает port (любое число в диапазоне от 49152 до 65535).

 

IPv4-адрес и port передаются пользователю устно.
В файле inter.env регистрируются пользователи в формате {“Логин”: “пароль”}.

 
Inter.env

Для активации программы используется исполнительный файл Generic_climatic_server.exe. 

 








После активации на экране появиться интерфейс серверной части и командная строка, показывающая в режиме реального времен и предпринимаемые пользователем действия.
 
После выбора клавиши «Запустить сервер» приложение переходит  в режим ожидания действий пользователя.
Результаты клиент-серверного взаимодействия будут отражаться в командной строке.
Вывод информации в командной строке поддается настройке, позволяя изменять как формат, так и содержание данных.



 
Клиент:
Пользователь открывает приложение Generic climatic application на своём устройстве или на планшете отдела ОХС, на экране появиться главное меню приложения:
 
В строке «Введите IP» устанавливается IPv4-адрес полученный от контролирующего лица.
В строке «Введите порт» устанавливается port полученный от контролирующего лица.
В строке «Login» указывается личный логин пользователя (зарегистрированный в файле inter.env серверной части).
В строке «Password» указывается пароль пользователя (зарегистрированный в файле inter.env серверной части).
После выбора клавиши «Продолжить» пользователь будет авторизован и приложение проинформирует пользователя о помещениях, с которых были сняты показания, и о тех, с которых показания требуется снять. Значки с восклицательными знаками означают, что с данного помещения требуется снять параметры, после снятия параметров восклицательный знак пропадёт.
После выбора значка с подписью «Account Reset» авторизация пользователя будет сброшена.
После выбора значка с подписью «ROOM …» пользователь попадёт в окно отвечающее за регистрацию выбранного помещения.
 

В строке «Влажность» указывается фактическая влажность в помещении.
В строке «Температура» указывается фактическая температура помещения. 
После выбора клавиши «Отправить» данные с помещения отправляются на сервер.
Символы «галочка» и «крестик» служат индикаторами, информирующими о времени снятия климатических показателей за смену — в первой или второй половине дня. 
Сервер:
Подтверждением успешного принятия пакета данных с помещения от пользователя служит соответствующая запись в командной строке.
Одновременно в базе данных data.xlsx (а так же в data.csv ) появиться новая строчка с актуальной информацией (если файла data.xlsx нет, то он будет создан автоматически).
  
data.xlsx
 
Клавиша «Получить данные» формирует отчёт за установленный период (в настоящий момент одна смена) в формате Отчёт.doc. Файл Отчёт.doc создаётся в той же папке, где находится файл Generic_climatic_server.exe.
 
Отчёт.doc

 
Для просмотра тренда конкретного помещения необходимо указать тип графика (Например «Линия») и выбрать номер помещения. В открывшемся окне будут отображаться данные, основанные на информации, хранящейся в серверной базе данных.
 
После выбора клавиши «Остановить сервер» приложение будет не доступно для пользователя.
Клавиша «Выход» завершает приложение и закрывает командную строку.
 
5.	Примечания
-	Серверная част и клиентская часть разработаны таким образом, что они могут взаимодействовать только в границах одной локальной сети. Другими словами: они должны быть подключены к одному маршрутизатору (роутеру). Это сделано умышленно, что бы защитить данные от постороннего вмешательства.
-	В конфигурационном файле inter.env указывается IPv4-адрес и port компьютера с серверной частью. Порт можно выбрать любой в диапазоне 49152 — 65535, в любое время на усмотрение контролирующего лица. Это сделано умышленно, что бы защитить данные от постороннего вмешательства т.к для взаимодействия контролирующее лицо и пользователь должны выбрать один и тот же port. (Можно предусмотреть возможность автоматического выбора ip и port`а, без вмешательства персонала).
-	В папке с исполнительным файлом Generic_climatic_server.exe обязательно должна быть системная папка _internal. Её удаление сделает серверную часть не рабочей.
-	Конфигурационный файл inter.env должен находится в одной папке с файлом Generic_climatic_server.exe. Её удаление сделает серверную часть не рабочей.
-	Файл data.csv необходим для нормального функционирования серверной части. Её удаление сделает серверную часть не рабочей. Удаление файла data .xlsx не повлияет на работу серверной части.
-	К серверной части могут подключаться сразу несколько пользователей (не подтверждено).
 
-	После успешной аутентификации клиентской части и штатного завершения приложения, состояние приложения сохраняется и при повторной активации клиентской части аутентификация не требуется (данную функцию можно убрать).

